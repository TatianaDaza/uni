<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-09-14T12:00:00.000Z" agent="Claude" etag="UML-Creational-Patterns-Aesthetic" version="21.6.5" type="device">
  <diagram name="Patrones Creacionales Estético" id="aesthetic-creational-patterns">
    <mxGraphModel dx="2400" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="2800" math="0" shadow="0">
      <root>
        <mxCell id="factory-creates-entity4" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="payment-factory" target="payment-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1290" y="760" as="sourcePoint" />
            <mxPoint x="1320" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="factory-creates-entity5" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="reservation-factory" target="reservation-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1630" y="670" as="sourcePoint" />
            <mxPoint x="1540" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- RELACIONES ENTRE ENTIDADES CON ESTILO MEJORADO -->
        <mxCell id="order-orderitem" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="order-entity" target="orderitem-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="320" y="1930" as="sourcePoint" />
            <mxPoint x="350" y="1880" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="order-orderitem-label" value="*" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="order-orderitem">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="order-invoice" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0;entryY=0.3;entryDx=0;entryDy=0;exitX=1;exitY=0.3;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="order-entity" target="invoice-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="320" y="1878" as="sourcePoint" />
            <mxPoint x="1020" y="1866" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="order-invoice-label" value="1" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="order-invoice">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="invoice-payment" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="invoice-entity" target="payment-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1200" y="1910" as="sourcePoint" />
            <mxPoint x="1230" y="1870" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="invoice-payment-label" value="*" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="invoice-payment">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="customer-order" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.7;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="customer-entity" target="order-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="810" y="1968" as="sourcePoint" />
            <mxPoint x="210" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="customer-order-label" value="*" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="customer-order">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="customer-reservation" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.7;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="customer-entity" target="reservation-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="990" y="1968" as="sourcePoint" />
            <mxPoint x="1440" y="1890" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="customer-reservation-label" value="*" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="customer-reservation">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="menuitem-orderitem" value="1" style="endArrow=none;html=1;endSize=12;startArrow=none;startSize=12;startFill=0;endFill=0;rounded=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.3;exitDx=0;exitDy=0;strokeColor=#3b82f6;strokeWidth=3;shadow=1;" edge="1" parent="1" source="menuitem-entity" target="orderitem-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="580" y="1872" as="sourcePoint" />
            <mxPoint x="450" y="1960" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="menuitem-orderitem-label" value="*" style="resizable=0;html=1;align=right;verticalAlign=bottom;fontSize=12;fontStyle=1;fontColor=#1e3a8a;" connectable="0" vertex="1" parent="menuitem-orderitem">
          <mxGeometry x="1" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- DECORACIONES ADICIONALES -->
        <mxCell id="decorator1" value="🎯" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1900" y="200" width="30" height="30" as="geometry" />
        </mxCell>

        <mxCell id="decorator2" value="⚡" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1900" y="550" width="30" height="30" as="geometry" />
        </mxCell>

        <mxCell id="decorator3" value="🔧" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1900" y="1000" width="30" height="30" as="geometry" />
        </mxCell>

        <mxCell id="decorator4" value="🏭" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1900" y="1340" width="30" height="30" as="geometry" />
        </mxCell>

        <mxCell id="decorator5" value="📊" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;" vertex="1" parent="1">
          <mxGeometry x="1900" y="1770" width="30" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>0" />
        <mxCell id="1" parent="0" />
        
        <!-- FONDO Y TÍTULO PRINCIPAL -->
        <mxCell id="background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f9fa;strokeColor=none;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="1960" height="2760" as="geometry" />
        </mxCell>
        
        <mxCell id="title-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1e293b;strokeColor=none;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="60" width="1880" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="title" value="🏗️ PATRONES CREACIONALES - SISTEMA DE RESTAURANTE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#ffffff;fontFamily=Segoe UI;" vertex="1" parent="1">
          <mxGeometry x="80" y="80" width="1840" height="40" as="geometry" />
        </mxCell>

        <!-- SECCIÓN SINGLETON CON FONDO -->
        <mxCell id="singleton-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="170" width="1880" height="320" as="geometry" />
        </mxCell>
        
        <mxCell id="singleton-section" value="🔒 PATRÓN SINGLETON" style="text;html=1;strokeColor=#f59e0b;fillColor=#fbbf24;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#92400e;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="190" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- LoggerSingleton -->
        <mxCell id="logger-singleton" value="📝 LoggerSingleton&#xa;&#xa;🔒 _instance: LoggerSingleton [static]&#xa;🔒 _lock: threading.Lock [static]&#xa;🔒 _logs: list&#xa;🔒 _initialized: bool&#xa;&#xa;➕ __new__(): LoggerSingleton&#xa;➕ __init__()&#xa;➕ log(level: str, message: str, data: Dict)&#xa;➕ get_logs(level?: str): list&#xa;➕ clear_logs()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="250" width="320" height="200" as="geometry" />
        </mxCell>

        <!-- CacheSingleton -->
        <mxCell id="cache-singleton" value="💾 CacheSingleton&#xa;&#xa;🔒 _instance: CacheSingleton [static]&#xa;🔒 _lock: threading.Lock [static]&#xa;🔒 _cache: Dict[str, Any]&#xa;🔒 _ttl: Dict[str, float]&#xa;🔒 _initialized: bool&#xa;&#xa;➕ __new__(): CacheSingleton&#xa;➕ __init__()&#xa;➕ set(key: str, value: Any, ttl_seconds: int)&#xa;➕ get(key: str): Any&#xa;➕ delete(key: str): bool&#xa;➕ clear()" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="460" y="250" width="320" height="200" as="geometry" />
        </mxCell>

        <!-- NotificationSingleton -->
        <mxCell id="notification-singleton" value="🔔 NotificationSingleton&#xa;&#xa;🔒 _instance: NotificationSingleton [static]&#xa;🔒 _lock: threading.Lock [static]&#xa;🔒 _notifications: list&#xa;🔒 _subscribers: Dict[str, list]&#xa;🔒 _initialized: bool&#xa;&#xa;➕ __new__(): NotificationSingleton&#xa;➕ __init__()&#xa;➕ subscribe(event_type: str, callback)&#xa;➕ notify(event_type: str, data: Dict)&#xa;➕ get_notifications(event_type?: str): list" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="820" y="250" width="340" height="200" as="geometry" />
        </mxCell>

        <!-- ConfigurationSingleton -->
        <mxCell id="config-singleton" value="⚙️ ConfigurationSingleton&#xa;&#xa;🔒 _instance: ConfigurationSingleton [static]&#xa;🔒 _lock: threading.Lock [static]&#xa;🔒 _config: Dict[str, Any]&#xa;🔒 _initialized: bool&#xa;&#xa;➕ __new__(): ConfigurationSingleton&#xa;➕ __init__()&#xa;➕ get(key: str, default: Any): Any&#xa;➕ set(key: str, value: Any)&#xa;➕ get_all(): Dict[str, Any]&#xa;➕ update(config_dict: Dict[str, Any])" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1200" y="250" width="320" height="200" as="geometry" />
        </mxCell>

        <!-- DatabaseConnectionSingleton -->
        <mxCell id="db-singleton" value="🗄️ DatabaseConnectionSingleton&#xa;&#xa;🔒 _instance: DatabaseConnectionSingleton [static]&#xa;🔒 _lock: threading.Lock [static]&#xa;🔒 _connection: db_connection&#xa;🔒 _initialized: bool&#xa;&#xa;➕ __new__(): DatabaseConnectionSingleton&#xa;➕ __init__()&#xa;➕ connection: property&#xa;➕ health_check(): bool" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1560" y="250" width="320" height="200" as="geometry" />
        </mxCell>

        <!-- SECCIÓN FACTORY METHOD CON FONDO -->
        <mxCell id="factory-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="520" width="1880" height="400" as="geometry" />
        </mxCell>
        
        <mxCell id="factory-section" value="🏭 PATRÓN FACTORY METHOD" style="text;html=1;strokeColor=#10b981;fillColor=#34d399;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#064e3b;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="540" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- OrderFactory Abstract -->
        <mxCell id="order-factory" value="🔧 «abstract»&#xa;OrderFactory&#xa;&#xa;🎯 create_order(order_data: Dict): Order [abstract]" style="swimlane;fontStyle=3;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="600" width="300" height="90" as="geometry" />
        </mxCell>

        <!-- OrderFactoryProducer -->
        <mxCell id="factory-producer" value="🎪 OrderFactoryProducer&#xa;&#xa;🔒 _factories: Dict [static]&#xa;&#xa;➕ get_factory(order_type: str): OrderFactory [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="450" y="600" width="300" height="90" as="geometry" />
        </mxCell>

        <!-- Concrete Factories -->
        <mxCell id="dinein-factory" value="🍽️ DineInOrderFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="720" width="220" height="70" as="geometry" />
        </mxCell>

        <mxCell id="takeaway-factory" value="🥡 TakeawayOrderFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="340" y="720" width="220" height="70" as="geometry" />
        </mxCell>

        <mxCell id="delivery-factory" value="🚚 DeliveryOrderFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="580" y="720" width="220" height="70" as="geometry" />
        </mxCell>

        <!-- Static Factories -->
        <mxCell id="menuitem-factory" value="🍕 MenuItemFactory&#xa;&#xa;➕ create_menu_item(item_data: Dict): MenuItem [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="830" y="600" width="280" height="70" as="geometry" />
        </mxCell>

        <mxCell id="customer-factory" value="👤 CustomerFactory&#xa;&#xa;➕ create_customer(customer_data: Dict): Customer [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1150" y="600" width="280" height="70" as="geometry" />
        </mxCell>

        <mxCell id="invoice-factory" value="🧾 InvoiceFactory&#xa;&#xa;➕ create_invoice(invoice_data: Dict): Invoice [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="830" y="690" width="280" height="70" as="geometry" />
        </mxCell>

        <mxCell id="payment-factory" value="💳 PaymentFactory&#xa;&#xa;➕ create_payment(payment_data: Dict): Payment [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1150" y="690" width="280" height="70" as="geometry" />
        </mxCell>

        <mxCell id="reservation-factory" value="📅 ReservationFactory&#xa;&#xa;➕ create_reservation(reservation_data: Dict): Reservation [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d1fae5;strokeColor=#10b981;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1470" y="600" width="320" height="70" as="geometry" />
        </mxCell>

        <!-- SECCIÓN BUILDER CON FONDO -->
        <mxCell id="builder-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="950" width="1880" height="300" as="geometry" />
        </mxCell>
        
        <mxCell id="builder-section" value="🔨 PATRÓN BUILDER" style="text;html=1;strokeColor=#f59e0b;fillColor=#fbbf24;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#92400e;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="970" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- OrderBuilder -->
        <mxCell id="order-builder" value="🏗️ OrderBuilder&#xa;&#xa;🔒 _order_data: Dict[str, Any]&#xa;🔒 _order_items: List[Dict[str, Any]]&#xa;&#xa;➕ set_customer(customer_id: str): OrderBuilder&#xa;➕ set_table(table_id: str): OrderBuilder&#xa;➕ set_order_type(order_type_id: str): OrderBuilder&#xa;➕ set_status(status_id: str): OrderBuilder&#xa;➕ set_special_instructions(instructions: str): OrderBuilder&#xa;➕ add_order_item(...): OrderBuilder&#xa;➕ calculate_totals(tax_rate: float, discount_amount: float): OrderBuilder&#xa;➕ build(): Order" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="1030" width="420" height="200" as="geometry" />
        </mxCell>

        <!-- MenuItemBuilder -->
        <mxCell id="menuitem-builder" value="🍕 MenuItemBuilder&#xa;&#xa;🔒 _item_data: Dict[str, Any]&#xa;&#xa;➕ set_basic_info(name: str, description: str, price: float): MenuItemBuilder&#xa;➕ set_category(category_id: str): MenuItemBuilder&#xa;➕ set_pricing(cost: float): MenuItemBuilder&#xa;➕ set_preparation(preparation_time: int): MenuItemBuilder&#xa;➕ set_availability(is_available: bool, is_featured: bool): MenuItemBuilder&#xa;➕ set_image(image_url: str): MenuItemBuilder&#xa;➕ set_allergen_info(allergens: List[str]): MenuItemBuilder&#xa;➕ set_nutritional_info(nutritional_data: Dict): MenuItemBuilder&#xa;➕ build(): MenuItem" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="560" y="1030" width="480" height="200" as="geometry" />
        </mxCell>

        <!-- CustomerBuilder -->
        <mxCell id="customer-builder" value="👤 CustomerBuilder&#xa;&#xa;🔒 _customer_data: Dict[str, Any]&#xa;&#xa;➕ set_personal_info(...): CustomerBuilder&#xa;➕ set_address(address: str): CustomerBuilder&#xa;➕ set_birth_date(birth_date: str): CustomerBuilder&#xa;➕ set_allergies(allergies: List[str]): CustomerBuilder&#xa;➕ set_preferences(preferences: Dict): CustomerBuilder&#xa;➕ set_loyalty(loyalty_points: int, is_vip: bool): CustomerBuilder&#xa;➕ build(): Customer" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1030" width="360" height="170" as="geometry" />
        </mxCell>

        <!-- InvoiceBuilder -->
        <mxCell id="invoice-builder" value="🧾 InvoiceBuilder&#xa;&#xa;🔒 _invoice_data: Dict[str, Any]&#xa;&#xa;➕ set_order_info(order_id: str, customer_id?: str): InvoiceBuilder&#xa;➕ set_amounts(subtotal: float, tax_amount: float, discount_amount: float): InvoiceBuilder&#xa;➕ set_status(status: str): InvoiceBuilder&#xa;➕ set_invoice_number(invoice_number: str): InvoiceBuilder&#xa;➕ set_created_by(created_by: str): InvoiceBuilder&#xa;➕ build(): Invoice" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fef3c7;strokeColor=#f59e0b;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1480" y="1030" width="420" height="170" as="geometry" />
        </mxCell>

        <!-- SECCIÓN ABSTRACT FACTORY CON FONDO -->
        <mxCell id="abstract-factory-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="1290" width="1880" height="400" as="geometry" />
        </mxCell>
        
        <mxCell id="abstract-factory-section" value="🏛️ PATRÓN ABSTRACT FACTORY" style="text;html=1;strokeColor=#ec4899;fillColor=#f472b6;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#831843;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1310" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- OrderSystemFactory Abstract -->
        <mxCell id="order-system-factory" value="🏭 «abstract»&#xa;OrderSystemFactory&#xa;&#xa;🎯 create_order(order_data: Dict): Order [abstract]&#xa;🎯 create_order_item(item_data: Dict): OrderItem [abstract]&#xa;🎯 create_invoice(invoice_data: Dict): Invoice [abstract]&#xa;🎯 create_payment(payment_data: Dict): Payment [abstract]" style="swimlane;fontStyle=3;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="1370" width="380" height="130" as="geometry" />
        </mxCell>

        <!-- ReservationSystemFactory Abstract -->
        <mxCell id="reservation-system-factory" value="📅 «abstract»&#xa;ReservationSystemFactory&#xa;&#xa;🎯 create_reservation(reservation_data: Dict): Reservation [abstract]&#xa;🎯 create_customer_for_reservation(customer_data: Dict): Customer [abstract]" style="swimlane;fontStyle=3;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="520" y="1370" width="420" height="110" as="geometry" />
        </mxCell>

        <!-- FactoryProducer -->
        <mxCell id="abstract-factory-producer" value="🎪 FactoryProducer&#xa;&#xa;➕ get_order_system_factory(system_type: str): OrderSystemFactory [static]&#xa;➕ get_reservation_system_factory(customer_type: str): ReservationSystemFactory [static]" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="980" y="1370" width="520" height="90" as="geometry" />
        </mxCell>

        <!-- Concrete System Factories -->
        <mxCell id="dinein-system-factory" value="🍽️ DineInSystemFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order&#xa;➕ create_order_item(item_data: Dict): OrderItem&#xa;➕ create_invoice(invoice_data: Dict): Invoice&#xa;➕ create_payment(payment_data: Dict): Payment" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="1530" width="300" height="110" as="geometry" />
        </mxCell>

        <mxCell id="takeaway-system-factory" value="🥡 TakeawaySystemFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order&#xa;➕ create_order_item(item_data: Dict): OrderItem&#xa;➕ create_invoice(invoice_data: Dict): Invoice&#xa;➕ create_payment(payment_data: Dict): Payment" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="420" y="1530" width="300" height="110" as="geometry" />
        </mxCell>

        <mxCell id="delivery-system-factory" value="🚚 DeliverySystemFactory&#xa;&#xa;➕ create_order(order_data: Dict): Order&#xa;➕ create_order_item(item_data: Dict): OrderItem&#xa;➕ create_invoice(invoice_data: Dict): Invoice&#xa;➕ create_payment(payment_data: Dict): Payment" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="740" y="1530" width="300" height="110" as="geometry" />
        </mxCell>

        <mxCell id="standard-reservation-factory" value="👥 StandardReservationFactory&#xa;&#xa;➕ create_reservation(reservation_data: Dict): Reservation&#xa;➕ create_customer_for_reservation(customer_data: Dict): Customer" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1530" width="380" height="90" as="geometry" />
        </mxCell>

        <mxCell id="vip-reservation-factory" value="⭐ VIPReservationFactory&#xa;&#xa;➕ create_reservation(reservation_data: Dict): Reservation&#xa;➕ create_customer_for_reservation(customer_data: Dict): Customer" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fce7f3;strokeColor=#ec4899;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1500" y="1530" width="380" height="90" as="geometry" />
        </mxCell>

        <!-- SECCIÓN ENTIDADES DEL DOMINIO CON FONDO -->
        <mxCell id="entities-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="1720" width="1880" height="480" as="geometry" />
        </mxCell>
        
        <mxCell id="entities-section" value="🏢 ENTIDADES DEL DOMINIO" style="text;html=1;strokeColor=#3b82f6;fillColor=#60a5fa;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#1e3a8a;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1740" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- Order Entity -->
        <mxCell id="order-entity" value="🛒 Order&#xa;&#xa;➕ id: str&#xa;➕ order_number: str&#xa;➕ customer_id: str&#xa;➕ table_id: str&#xa;➕ order_type_id: str&#xa;➕ status_id: str&#xa;➕ subtotal: float&#xa;➕ tax_amount: float&#xa;➕ discount_amount: float&#xa;➕ total_amount: float&#xa;➕ special_instructions: str&#xa;➕ created_at: datetime&#xa;➕ updated_at: datetime" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="100" y="1800" width="220" height="260" as="geometry" />
        </mxCell>

        <!-- OrderItem Entity -->
        <mxCell id="orderitem-entity" value="📝 OrderItem&#xa;&#xa;➕ id: str&#xa;➕ order_id: str&#xa;➕ menu_item_id: str&#xa;➕ quantity: int&#xa;➕ unit_price: float&#xa;➕ total_price: float&#xa;➕ customizations: List&#xa;➕ special_instructions: str" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="350" y="1800" width="200" height="160" as="geometry" />
        </mxCell>

        <!-- MenuItem Entity -->
        <mxCell id="menuitem-entity" value="🍕 MenuItem&#xa;&#xa;➕ id: str&#xa;➕ name: str&#xa;➕ description: str&#xa;➕ price: float&#xa;➕ cost: float&#xa;➕ category_id: str&#xa;➕ preparation_time: int&#xa;➕ is_available: bool&#xa;➕ is_featured: bool&#xa;➕ image_url: str&#xa;➕ allergen_info: List[str]&#xa;➕ nutritional_info: Dict" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="580" y="1800" width="200" height="240" as="geometry" />
        </mxCell>

        <!-- Customer Entity -->
        <mxCell id="customer-entity" value="👤 Customer&#xa;&#xa;➕ id: str&#xa;➕ first_name: str&#xa;➕ last_name: str&#xa;➕ email: str&#xa;➕ phone: str&#xa;➕ address: str&#xa;➕ birth_date: str&#xa;➕ allergies: List[str]&#xa;➕ preferences: Dict&#xa;➕ loyalty_points: int&#xa;➕ is_vip: bool&#xa;➕ created_at: datetime" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="810" y="1800" width="180" height="240" as="geometry" />
        </mxCell>

        <!-- Invoice Entity -->
        <mxCell id="invoice-entity" value="🧾 Invoice&#xa;&#xa;➕ id: str&#xa;➕ invoice_number: str&#xa;➕ order_id: str&#xa;➕ customer_id: str&#xa;➕ subtotal: float&#xa;➕ tax_amount: float&#xa;➕ discount_amount: float&#xa;➕ total_amount: float&#xa;➕ status: str&#xa;➕ created_by: str&#xa;➕ created_at: datetime" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1020" y="1800" width="180" height="220" as="geometry" />
        </mxCell>

        <!-- Payment Entity -->
        <mxCell id="payment-entity" value="💳 Payment&#xa;&#xa;➕ id: str&#xa;➕ invoice_id: str&#xa;➕ amount: float&#xa;➕ payment_method: str&#xa;➕ status: str&#xa;➕ transaction_id: str&#xa;➕ created_at: datetime" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1230" y="1800" width="180" height="140" as="geometry" />
        </mxCell>

        <!-- Reservation Entity -->
        <mxCell id="reservation-entity" value="📅 Reservation&#xa;&#xa;➕ id: str&#xa;➕ customer_id: str&#xa;➕ table_id: str&#xa;➕ reservation_date: datetime&#xa;➕ party_size: int&#xa;➕ duration: int&#xa;➕ status: str&#xa;➕ special_requests: str&#xa;➕ created_at: datetime" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dbeafe;strokeColor=#3b82f6;strokeWidth=2;shadow=1;rounded=1;fontFamily=Consolas;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1440" y="1800" width="200" height="180" as="geometry" />
        </mxCell>

        <!-- LEYENDA Y NOTAS -->
        <mxCell id="legend-background" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f5f9;strokeColor=#64748b;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="2230" width="1880" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-title" value="📋 LEYENDA Y NOTAS" style="text;html=1;strokeColor=#64748b;fillColor=#94a3b8;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#1e293b;fontFamily=Segoe UI;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="2250" width="200" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-content" value="🔒 Atributos privados     ➕ Métodos públicos     🎯 Métodos abstractos     [static] Métodos estáticos&#xa;&#xa;💡 CARACTERÍSTICAS: Thread-safe Singletons | Fluent Interface Builders | Extensible Factories | Domain-driven Entities&#xa;✨ BENEFICIOS: Reutilización de código | Separación de responsabilidades | Facilidad de testing | Escalabilidad" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#374151;fontFamily=Segoe UI;" vertex="1" parent="1">
          <mxGeometry x="100" y="2290" width="1800" height="50" as="geometry" />
        </mxCell>

        <!-- RELACIONES MEJORADAS CON ESTILOS -->
        
        <!-- Factory Method Pattern Inheritance -->
        <mxCell id="factory-inheritance1" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.2;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#10b981;strokeWidth=3;shadow=1;" edge="1" parent="1" source="dinein-factory" target="order-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="210" y="720" as="sourcePoint" />
            <mxPoint x="160" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="factory-inheritance2" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#10b981;strokeWidth=3;shadow=1;" edge="1" parent="1" source="takeaway-factory" target="order-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="450" y="720" as="sourcePoint" />
            <mxPoint x="250" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="factory-inheritance3" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.8;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#10b981;strokeWidth=3;shadow=1;" edge="1" parent="1" source="delivery-factory" target="order-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="690" y="720" as="sourcePoint" />
            <mxPoint x="340" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Factory Creates Relations -->
        <mxCell id="factory-creates1" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="factory-producer" target="order-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="450" y="645" as="sourcePoint" />
            <mxPoint x="400" y="645" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Abstract Factory Pattern Inheritance -->
        <mxCell id="abstract-factory-inheritance1" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.2;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#ec4899;strokeWidth=3;shadow=1;" edge="1" parent="1" source="dinein-system-factory" target="order-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="250" y="1530" as="sourcePoint" />
            <mxPoint x="176" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="abstract-factory-inheritance2" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#ec4899;strokeWidth=3;shadow=1;" edge="1" parent="1" source="takeaway-system-factory" target="order-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="570" y="1530" as="sourcePoint" />
            <mxPoint x="290" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="abstract-factory-inheritance3" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.8;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#ec4899;strokeWidth=3;shadow=1;" edge="1" parent="1" source="delivery-system-factory" target="order-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="890" y="1530" as="sourcePoint" />
            <mxPoint x="404" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="reservation-factory-inheritance1" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.3;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#ec4899;strokeWidth=3;shadow=1;" edge="1" parent="1" source="standard-reservation-factory" target="reservation-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1270" y="1530" as="sourcePoint" />
            <mxPoint x="646" y="1480" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="reservation-factory-inheritance2" value="" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=1;entryX=0.7;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#ec4899;strokeWidth=3;shadow=1;" edge="1" parent="1" source="vip-reservation-factory" target="reservation-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1690" y="1530" as="sourcePoint" />
            <mxPoint x="814" y="1480" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Abstract Factory Producer Relations -->
        <mxCell id="abstract-factory-creates1" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.3;exitDx=0;exitDy=0;dashed=1;strokeColor=#ec4899;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#831843;fontSize=10;fontStyle=1;" edge="1" parent="1" source="abstract-factory-producer" target="order-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="980" y="1395" as="sourcePoint" />
            <mxPoint x="480" y="1435" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="abstract-factory-creates2" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.7;exitDx=0;exitDy=0;dashed=1;strokeColor=#ec4899;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#831843;fontSize=10;fontStyle=1;" edge="1" parent="1" source="abstract-factory-producer" target="reservation-system-factory">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="980" y="1433" as="sourcePoint" />
            <mxPoint x="940" y="1425" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Builder Pattern Relations -->
        <mxCell id="builder-creates1" value="builds" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#f59e0b;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#92400e;fontSize=10;fontStyle=1;" edge="1" parent="1" source="order-builder" target="order-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="310" y="1230" as="sourcePoint" />
            <mxPoint x="210" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="builder-creates2" value="builds" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#f59e0b;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#92400e;fontSize=10;fontStyle=1;" edge="1" parent="1" source="menuitem-builder" target="menuitem-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="800" y="1230" as="sourcePoint" />
            <mxPoint x="680" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="builder-creates3" value="builds" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#f59e0b;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#92400e;fontSize=10;fontStyle=1;" edge="1" parent="1" source="customer-builder" target="customer-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1260" y="1200" as="sourcePoint" />
            <mxPoint x="900" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="builder-creates4" value="builds" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#f59e0b;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#92400e;fontSize=10;fontStyle=1;" edge="1" parent="1" source="invoice-builder" target="invoice-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1690" y="1200" as="sourcePoint" />
            <mxPoint x="1110" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Factory Method creates entities -->
        <mxCell id="factory-creates-entity1" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="menuitem-factory" target="menuitem-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="970" y="670" as="sourcePoint" />
            <mxPoint x="680" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="factory-creates-entity2" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="customer-factory" target="customer-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1290" y="670" as="sourcePoint" />
            <mxPoint x="900" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="factory-creates-entity3" value="creates" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;strokeColor=#10b981;strokeWidth=2;labelBackgroundColor=#ffffff;fontColor=#065f46;fontSize=10;fontStyle=1;" edge="1" parent="1" source="invoice-factory" target="invoice-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="970" y="760" as="sourcePoint" />
            <mxPoint x="1110" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="